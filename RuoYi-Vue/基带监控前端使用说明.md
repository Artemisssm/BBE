# 基带监控模块前端使用说明

## 一、已创建的文件

### 1. API 接口文件
- `RuoYi-Vue3/src/api/system/baseband/unit.js` - 基带单元管理 API
- `RuoYi-Vue3/src/api/system/baseband/paramDef.js` - 基带参数定义管理 API
- `RuoYi-Vue3/src/api/system/baseband/paramValue.js` - 基带参数值配置 API

### 2. 前端页面组件
- `RuoYi-Vue3/src/views/system/baseband/unit/index.vue` - 基带单元管理页面
- `RuoYi-Vue3/src/views/system/baseband/paramDef/index.vue` - 基带参数定义管理页面
- `RuoYi-Vue3/src/views/system/baseband/paramValue/index.vue` - 基带参数值配置页面

### 3. 路由配置
- 已在 `RuoYi-Vue3/src/router/index.js` 中添加参数配置页面的路由

### 4. 菜单 SQL 脚本
- `RuoYi-Vue/sql/baseband_menu.sql` - 菜单和权限配置 SQL

## 二、部署步骤

### 步骤 1：执行菜单 SQL 脚本
在数据库管理工具中执行 `RuoYi-Vue/sql/baseband_menu.sql` 文件，创建菜单和权限配置。

### 步骤 2：配置角色权限
登录系统后台，在 **系统管理 > 角色管理** 中，为需要的角色分配以下权限：

#### 基带单元管理权限
- `system:basebandUnit:list` - 查询
- `system:basebandUnit:query` - 详情
- `system:basebandUnit:add` - 新增
- `system:basebandUnit:edit` - 修改
- `system:basebandUnit:remove` - 删除
- `system:basebandUnit:export` - 导出

#### 参数定义管理权限
- `system:basebandParam:list` - 查询
- `system:basebandParam:query` - 详情
- `system:basebandParam:add` - 新增
- `system:basebandParam:edit` - 修改
- `system:basebandParam:remove` - 删除
- `system:basebandParam:export` - 导出

#### 参数配置权限
- `system:basebandValue:list` - 查看配置
- `system:basebandValue:edit` - 保存配置
- `system:basebandValue:dispatch` - 下发参数

### 步骤 3：验证功能
1. 启动前端和后端服务
2. 登录系统，检查左侧菜单是否出现 **系统管理 > 基带监控**
3. 测试各个功能模块

## 三、功能说明

### 1. 基带单元管理
- **功能**：管理基带单元信息
- **路径**：系统管理 > 基带监控 > 基带单元
- **主要功能**：
  - 新增、修改、删除基带单元
  - 支持按单元名称、单元类型、状态查询
  - 支持导出 Excel
  - 提供"参数配置"按钮跳转到参数配置页面

### 2. 参数定义管理
- **功能**：定义基带参数的属性（名称、类型、取值范围等）
- **路径**：系统管理 > 基带监控 > 参数定义
- **主要功能**：
  - 新增、修改、删除参数定义
  - 支持按参数编码、参数名称、单元类型查询
  - 支持导出 Excel
  - 根据值类型动态显示配置项（枚举、数值范围等）

### 3. 参数值配置
- **功能**：为特定基带单元配置参数值
- **访问方式**：从基带单元管理页面的"参数配置"按钮进入
- **主要功能**：
  - 根据参数类型动态渲染输入控件（枚举下拉框、数字输入、开关等）
  - 保存参数配置
  - 下发参数到硬件设备

## 四、数据流程

1. **参数定义** → 定义参数的属性（类型、范围、枚举值等）
2. **基带单元** → 创建基带单元实例
3. **参数配置** → 为基带单元配置具体的参数值
4. **参数下发** → 将配置的参数值下发到硬件设备

## 五、注意事项

1. **菜单配置**：菜单 SQL 脚本中的 `parent_id` 设置为 `'1'`（系统管理），如需调整，请修改 SQL 脚本
2. **路由配置**：参数配置页面为隐藏路由，通过路由参数访问
3. **权限控制**：所有功能都配置了权限控制，确保为用户角色分配相应权限
4. **参数类型**：参数支持四种类型
   - ENUM（枚举）：显示为下拉选择框
   - UINT（无符号整数）：显示为数字输入框
   - FLOAT（浮点数）：显示为小数输入框
   - SWITCH（开关）：显示为开关控件

## 六、常见问题

### Q1: 菜单不显示？
**A**: 检查是否执行了菜单 SQL 脚本，以及当前角色是否有菜单访问权限。

### Q2: 按钮不显示？
**A**: 检查角色权限配置，确保分配了对应的权限标识。

### Q3: 参数配置页面无法访问？
**A**: 检查路由配置是否正确，以及是否有 `system:basebandValue:list` 权限。

### Q4: 参数值保存失败？
**A**: 检查参数值的格式是否符合参数定义的要求（类型、范围等）。

## 七、后续优化建议

1. 添加参数配置历史记录功能
2. 添加参数下发日志查看功能
3. 添加批量参数配置功能
4. 添加参数配置模板功能

## 八、技术支持

如有问题，请检查：
1. 浏览器控制台是否有错误信息
2. 网络请求是否正常
3. 后端接口是否正常运行
4. 权限配置是否正确
